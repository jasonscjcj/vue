<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue模板語法-計算屬性的set</title>
</head>
<body>
    <div id="app">
        <div>
            <label>省︰</label></label>
            <input type="text" name="province" v-model:value="province">
        </div>
        <div>
            <label>市︰</label>
            <input type="text" name="city" v-model:value="city">
        </div>
        <div>
            <label>區︰</label>
            <input type="text" name="district" v-model:value="district">
        </div>
        <div>
            <label>詳細地址︰</label>
            <input type="text" name="address" v-model:value="address">
        </div>
    </div>
</body>
</html>
<script src="../lib/vue-2.6.11/dist/vue.js"></script>
<script>
   new Vue({
       el:"#app",
       data:{
           province:"",
           city:"",
           district:"",
       },
       computed:{
           address:{
               get:function(){
                   var result = ""
                   if(this.province){
                       result = this.province + "省"
                   }
                   if(this.city){
                       result += this.city + "市"
                   }
                   if(this.district){
                       result += this.district + "區"
                   }
                   return result
               },
               set:function(value){                   
                   //console.log(value)
                   //A省B市C區
                   var result = value.split(/省|市|區/)
                   //console.log(result)
                   if(result && result.length > 0){
                       this.province = result[0]   
                   }
                   if(result && result.length > 1){
                    this.city = result[1]
                   }
                   if(result && result.length > 2){
                    this.district = result[2]
                   }
               }
           }
       }
   })
</script>